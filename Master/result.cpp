//=============================================================================
//	インクルードファイル
//=============================================================================

#include "input.h"
#include "fade.h"
#include "C2DObj.h"
#include "scene.h"


//=============================================================================
//	グローバル変数宣言
//=============================================================================

static bool g_bend;		//	フェードインアウトフラグ
C2DObj *presult;
//=============================================================================
//	初期化処理
//=============================================================================

void Result_Initialize(void)
{
	presult = new C2DObj;
	g_bend = false;
	
}

//=============================================================================
//	終了処理
//=============================================================================

void Result_Finalize(void)
{
	delete presult;
}

//=============================================================================
//	更新処理
//=============================================================================

void Result_Update(void)
{
	//	スペースでタイトル画面へ
	if (!g_bend)
	{
		if (Keyboard_IsTrigger(DIK_SPACE))
		{
			Fade_Start(true, 3, 0, 0, 0);
			g_bend = true;
		}
	}
	else
	{
		if (!Fade_IsFade())
		{
			Fade_Start(false, 3, 0, 0, 0);
			Scene_Change(SCENE_INDEX_TITLE);
		}
	}
}

//=============================================================================
//	描画処理
//=============================================================================

void Result_Draw(void)
{
	presult->m_Sprite_Draw(4, 0, 0, 0, 0, presult->Texture_GetWidth(4, 1), presult->Texture_GetHeight(4, 1));
}


